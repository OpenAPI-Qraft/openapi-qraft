rules:
  operation-operationId-unique:
    severity: 'error'

apis:
  main:
    root: ../test-fixtures/openapi.json
    x-openapi-qraft:
      plugin:
        tanstack-query-react: true
        openapi-typescript: true
      output-dir: src/tests/fixtures/api
      clean: true
      explicit-import-extensions: true
      openapi-types-file-name: openapi.ts
      default-client-callbacks: all
      filter-services:
        - '/approval_policies/**'
        - '/entities/**'
        - '/files/**'
        - '!/internal/**'
      operation-predefined-parameters:
        '/approval_policies/{approval_policy_id}/**': 'header.x-monite-entity-id'
        '/entities/{entity_id}/documents': 'header.x-monite-version'
      operation-name-modifier:
        - '/files/list:[a-zA-Z]+List ==> findAll'
  queryable-write-operations:
    root: ../test-fixtures/openapi.json
    x-openapi-qraft:
      plugin:
        tanstack-query-react: true
      output-dir: src/tests/fixtures/queryable-write-operations-api
      clean: true
      explicit-import-extensions: true
      openapi-types-import-path: '../../api/openapi.js'
      queryable-write-operations: true
      filter-services:
        - '/approval_policies/**'
        - '/files/**'
