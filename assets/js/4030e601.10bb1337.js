"use strict";(globalThis.webpackChunkopenapi_qraft_website=globalThis.webpackChunkopenapi_qraft_website||[]).push([[8498],{2281:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"eslint/no-rest-destructuring","title":"No Rest Destructuring","description":"Disallow object rest destructuring on query results","source":"@site/docs/eslint/no-rest-destructuring.md","sourceDirName":"eslint","slug":"/eslint/no-rest-destructuring","permalink":"/openapi-qraft/docs/eslint/no-rest-destructuring","draft":false,"unlisted":false,"editUrl":"https://github.com/OpenAPI-Qraft/openapi-qraft/edit/main/website/docs/eslint/no-rest-destructuring.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"id":"no-rest-destructuring","title":"No Rest Destructuring"},"sidebar":"mainDocsSidebar","previous":{"title":"ESLint Plugin Query","permalink":"/openapi-qraft/docs/eslint/eslint-plugin-query"},"next":{"title":"No Unstable Deps","permalink":"/openapi-qraft/docs/eslint/no-unstable-deps"}}');var r=n(2540),i=n(3023);const o={sidebar_position:2,id:"no-rest-destructuring",title:"No Rest Destructuring"},l=void 0,a={},c=[{value:"Rule Details",id:"rule-details",level:2},{value:"When Not To Use It",id:"when-not-to-use-it",level:2},{value:"Options",id:"options",level:2},{value:"Attributes",id:"attributes",level:2}];function u(e){const t={admonition:"admonition",code:"code",h2:"h2",input:"input",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.admonition,{type:"info",children:(0,r.jsx)(t.p,{children:"Disallow object rest destructuring on query results"})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Rule ID"}),": ",(0,r.jsx)(t.code,{children:"@openapi-qraft/query/no-rest-destructuring"})]}),"\n",(0,r.jsx)(t.p,{children:"Using object rest destructuring on Qraft query results automatically subscribes to every field of the result, which may\ncause unnecessary re-renders.\nThis rule ensures you only subscribe to the fields you actually need."}),"\n",(0,r.jsx)(t.h2,{id:"rule-details",children:"Rule Details"}),"\n",(0,r.jsxs)(t.p,{children:["Examples of ",(0,r.jsx)(t.strong,{children:"incorrect"})," code for this rule (Qraft hooks):"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:'/* eslint "@openapi-qraft/query/no-rest-destructuring": "warn" */\n\nconst useTodos = () => {\n  const { data: todos, ...rest } = qraft.service.operation.useQuery()\n  return { todos, ...rest }\n}\n'})}),"\n",(0,r.jsxs)(t.p,{children:["Examples of ",(0,r.jsx)(t.strong,{children:"correct"})," code for this rule:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"const todosQuery = qraft.useQuery()\n\n// normal object destructuring is fine\nconst { data: todos } = todosQuery\n"})}),"\n",(0,r.jsx)(t.h2,{id:"when-not-to-use-it",children:"When Not To Use It"}),"\n",(0,r.jsxs)(t.p,{children:["If you set the ",(0,r.jsx)(t.code,{children:"notifyOnChangeProps"})," options manually, you can disable this rule.\nSince you are not using tracked queries, you are responsible for specifying which props should trigger a re-render."]}),"\n",(0,r.jsx)(t.h2,{id:"options",children:"Options"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["clientNamePattern (string or regex literal, optional): you can provide a string or a regex literal like\n",(0,r.jsx)(t.code,{children:"/customClientName/i"})," to match your Qraft client root identifier. Defaults to the case-insensitive regex\n",(0,r.jsx)(t.code,{children:"/qraft|api/i"}),"."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Example:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"// eslint.config.js (flat)\nimport pluginQraftQuery from '@openapi-qraft/eslint-plugin-query';\n\nexport default [\n  {\n    plugins: { '@openapi-qraft/query': pluginQraftQuery },\n    rules: {\n      '@openapi-qraft/query/no-rest-destructuring': [\n        'warn',\n        { clientNamePattern: '/myQraftClient/i' },\n      ],\n    },\n  },\n];\n"})}),"\n",(0,r.jsx)(t.h2,{id:"attributes",children:"Attributes"}),"\n",(0,r.jsxs)(t.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(t.li,{className:"task-list-item",children:[(0,r.jsx)(t.input,{type:"checkbox",checked:!0,disabled:!0})," ","\u2705 Recommended"]}),"\n",(0,r.jsxs)(t.li,{className:"task-list-item",children:[(0,r.jsx)(t.input,{type:"checkbox",disabled:!0})," ","\ud83d\udd27 Fixable"]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},3023:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var s=n(3696);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);