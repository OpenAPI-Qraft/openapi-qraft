---
sidebar_position: 3
sidebar_label: AsyncAPI
---

# AsyncAPI mode (`qraft asyncapi`)

`qraft asyncapi` is the AsyncAPI-focused mode of `@qraft/cli`.

It uses AsyncAPI-compatible plugins and currently supports built-in generation with:

- `asyncapi-typescript` → `@qraft/asyncapi-typescript-plugin`

## Installation

```bash npm2yarn
npm install -D @qraft/cli @qraft/asyncapi-typescript-plugin
```

## Usage

```bash npm2yarn
npx qraft asyncapi --plugin asyncapi-typescript ./asyncapi.yaml --output-dir src/events
```

## Required options

- **`-o <path>, --output-dir <path>`** — output directory for generated files.

## Plugin selection

`qraft asyncapi` requires explicit plugin selection:

```bash npm2yarn
npx qraft asyncapi --plugin asyncapi-typescript ./asyncapi.yaml -o ./src/events
```

## Redocly config support

AsyncAPI generation can be configured in `redocly.yaml` via `x-asyncapi-qraft`:

```yaml
apis:
  events:
    root: ./asyncapi.yaml
    x-asyncapi-qraft:
      plugin:
        asyncapi-typescript: true
      output-dir: src/events
      clean: true
```

Then run:

```bash npm2yarn
npx qraft asyncapi --redocly
# or generate both OpenAPI + AsyncAPI entries
npx qraft redocly
```
