---
sidebar_label: useIsMutating
---

# useIsMutating(...)

The optional hook that returns the `number` of mutations that your
application is mutating (useful for app-wide loading indicators).
See the TanStack [_useIsMutating(...) ðŸŒ´_](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
documentation for more details.

```ts
const mutationNumber = qraft.<service>.<operation>.useIsMutating(
  filters,
  queryClient,
)
```

### Arguments

1. `filters?: UseMutationStateFiltersByParameters | UseMutationStateFiltersByMutationKey`,
   - **Optional**, represents the [_Mutation Filters ðŸŒ´_](https://tanstack.com/query/latest/docs/framework/react/guides/filters#mutation-filters)
     to be used, strictly-typed âœ¨
   - `filters.parameters: { path, query, header }` will be used for filtering mutations by parameters
   - `filters.mutationKey: MutationKey` will be used for filtering mutations by _MutationKey_ instead of parameters
     - `filters.mutationKey` and `filters.parameters` are mutually exclusive
   - `filters.predicate?: (mutation: Mutation) => boolean` will be used for filtering mutations by custom predicate
   - _If not provided_, all mutations matching to `<service>.<operation>` will be returned
2. `queryClient?: QueryClient`
   - **Optional** [_QueryClient ðŸŒ´_](https://tanstack.com/query/latest/docs/reference/QueryClient) to be used
   - _If not provided_
     - `QraftContext.queryClient` will be used if available
     - [_useQueryClient() ðŸŒ´_](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
       result will be used as a fallback

### Returns
`mutationsNumber`: The number of mutations that are matching the provided filters and are in the _loading_ state

### Example

```tsx title="src/DocumentsUploadStatus.tsx"
import { createAPIClient } from './api'; // generated by OpenAPI Qraft CLI

const qraft = createAPIClient();

function DocumentsUploadStatus() {
  const creatingDocument = qraft.entities.postEntitiesIdDocuments.useIsMutating({
    path: {
      entity_id: '1',
    },
  });

  const creatingDocumentTotal = qraft.entities.postEntitiesIdDocuments.useIsMutating();

  return (
    <>
      {!!creatingDocumentTotal && <div>Number of creating documents: {creatingDocumentTotal}...</div>}
      {!!creatingDocument && <div>Creating document...</div>}
    </>
  );
}
```
